@model Expense_Tracker_mvc.ViewModels.TransactionsIndexVm
@{
    Layout = null;
}

<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Transactions Export</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <style>
        @@media print { .no-print { display:none; } }
        body { padding: 24px; }
        table { font-size: 12px; }
    </style>
</head>
<body>
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h4 class="mb-0">Transactions</h4>
        <button class="btn btn-sm btn-outline-secondary no-print" onclick="window.print()">
            Print / Save as PDF
        </button>
    </div>

    <div class="mb-3">
        <div><strong>Total income:</strong> @Model.TotalIncome.ToString("F2")</div>
        <div><strong>Total expense:</strong> @Model.TotalExpense.ToString("F2")</div>
        <div><strong>Balance:</strong> @Model.Balance.ToString("F2")</div>
    </div>

    <table class="table table-sm table-striped">
        <thead>
            <tr>
                <th>Date</th>
                <th>Type</th>
                <th>Category</th>
                <th class="text-end">Amount</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var t in Model.Items)
            {
                <tr>
                    <td>@t.Date.ToString("yyyy-MM-dd")</td>
                    <td>@t.Type</td>
                    <td>@(t.Category?.Name ?? "-")</td>
                    <td class="text-end">@t.Amount.ToString("F2")</td>
                    <td>@t.Description</td>
                </tr>
            }
        </tbody>
    </table>
</body>
</html>
